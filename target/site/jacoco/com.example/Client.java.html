<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="it"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Client.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">CodeCloneRefactoring</a> &gt; <a href="index.source.html" class="el_package">com.example</a> &gt; <span class="el_source">Client.java</span></div><h1>Client.java</h1><pre class="source lang-java linenums">package com.example;

import java.io.FileInputStream;
import java.util.ArrayList;
import java.util.List;

import com.github.javaparser.StaticJavaParser;
import com.github.javaparser.ast.CompilationUnit;
import com.github.javaparser.ast.stmt.BlockStmt;

<span class="nc" id="L11">public class Client {</span>
    private static final String FILE_PATH = &quot;/Users/stran/OneDrive/Desktop/CodeCloneRefactoring/src/main/java/com/example/Car.java&quot;;
    public static void main(String[] args) throws Exception{
        
<span class="nc" id="L15">        CompilationUnit cu = StaticJavaParser.parse(new FileInputStream(FILE_PATH));</span>
        
<span class="nc" id="L17">        Visitor v = new Visitor(cu);</span>
<span class="nc" id="L18">        List&lt;String&gt; methodNameList = v.extractNameMethod();</span>

<span class="nc" id="L20">        SimilarityAnalyzer analyzer = new SimilarityAnalyzer();</span>

        /* to do list
         1. Tramite l'oggetto cu, estraggo una lista con tutti i blockStmt di ogni metodo
         2. Converto questa lista in una lista che contiene per ogni blocco il tipo dei suoi statement.
         3. Mi procuro poi un'istanza del analizzatore (che userà un determinato algoritmo al suo interno)
         4. L'analizzatore avrà un metodo che prende 2 liste e le confronta, quindi man mano gliele passo
         */
        
<span class="nc" id="L29">        List&lt;BlockStmt&gt; methodBlocksList = v.extractBlockStatementsMethod();</span>

<span class="nc" id="L31">        List&lt;String&gt; statementTypeFirstList = new ArrayList&lt;&gt;();</span>
<span class="nc" id="L32">        List&lt;String&gt; statementTypeSecondList = new ArrayList&lt;&gt;();</span>
        
<span class="nc bnc" id="L34" title="All 2 branches missed.">        for(int i=0;i&lt;methodBlocksList.size();i++){</span>
<span class="nc" id="L35">            statementTypeFirstList = Visitor.createListOfTypeStatement(methodBlocksList.get(i));</span>
<span class="nc bnc" id="L36" title="All 2 branches missed.">            for(int j=i+1;j&lt;methodBlocksList.size();j++){</span>
<span class="nc" id="L37">                statementTypeSecondList = Visitor.createListOfTypeStatement(methodBlocksList.get(j));</span>
<span class="nc" id="L38">                System.out.println(&quot;Lista type statements method: &quot;+methodNameList.get(i)+&quot;()&quot;);</span>
<span class="nc" id="L39">                v.printTypeStatement(methodBlocksList.get(i));</span>
<span class="nc" id="L40">                System.out.println(&quot;Lista type statements method: &quot;+methodNameList.get(j)+&quot;()&quot;);</span>
<span class="nc" id="L41">                v.printTypeStatement(methodBlocksList.get(j));</span>
<span class="nc" id="L42">                double similarity = analyzer.calculateSimilarity(statementTypeFirstList, statementTypeSecondList);</span>
<span class="nc" id="L43">                System.out.println(&quot;Analisi similarita': &quot;+similarity+&quot;%\n\n&quot;);</span>
            }
        }
        

<span class="nc" id="L48">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>